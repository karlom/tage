# Tage AI 产品需求文档（商业试点版）

- **版本**：2.0（商业转型）
- **日期**：2025-12-12
- **目标用户**：中小企业主、高管、超级个体
- **核心理念**：零配置、场景化、隐私优先

---

## 1. 项目概述（Project Overview）

**产品定义**：  
Tage 是一款面向非技术背景企业主的「桌面端数字幕僚」。它隐藏所有底层 AI 技术细节，通过预设数字员工（Digital Staff）和私有知识库（Private Vault），协助老板完成决策辅助、商务沟通与信息处理。

**商业核心价值**：

- **开箱即用（Zero-Config）**：去除 API Key 申请、模型参数调整等门槛，下载即用（内置代理服务或极简订阅）。
- **数据主权（Local First）**：强调“商业机密不出本地”，所有 RAG 索引与文档存储均本地完成。
- **结果导向（Result-Oriented）**：不提供“聊天”，只提供“解决方案”。

---

## 2. 核心体验重构（Core Experience Shift）

| 维度     | 原技术 PRD (V1.0)         | 现商业 PRD (V2.0)               |
| -------- | ------------------------- | ------------------------------- |
| 用户心智 | 管理 AI 模型的客户端      | 随时待命的数字董事会            |
| 交互入口 | 新建聊天 (New Chat)       | 呼叫员工 (Call Staff)           |
| 参数设置 | Temperature, Top P, Token | 严谨 / 创意 / 激进 (模式选择)   |
| 知识库   | 向量检索配置, 相似度阈值  | 投喂资料 (Feed Data)            |
| 快捷键   | 触发功能                  | 触发业务流 (一键回怼、一键总结) |

---

## 3. 功能模块详解（Functional Modules）

### 3.1 首页：数字董事会（Digital Boardroom）

（替代原 Sidebar + 空白聊天页）

- **布局逻辑**：类似即时通讯软件联系人列表，不是枯燥文件树。
- **预设角色（Pre-loaded Personas）**：
  - **首席法务 (Legal)**：预设 System Prompt，侧重风险审查、合同漏洞挖掘。
  - **金牌销售 (Sales)**：高情商话术、逼单技巧、客户安抚。
  - **战略参谋 (Strategy)**：宏观分析、SWOT 分析（东波哥数字分身）。
  - **通用助理 (Assistant)**：杂事代办、翻译、总结。
- **交互**：点击头像进入对话，顶部显示角色“人设标签”（如：“当前法务模式，我会严格审查每一句话”）。

---

### 3.2 投喂中心（The Vault）

（替代 Memory Settings）

- **视觉隐喻**：保险箱或文件夹图标，暗示“安全”。
- **拖拽投喂**：支持 PDF、Word、PPT、Excel 拖入。
- **自动分类**：系统自动识别文件类型并打标（如：#公司介绍 #产品报价 #历史合同）。
- **隐私承诺**：界面显著提示：“文件仅建立本地索引，并未上传云端，甚至 Tage 官方也无法查看。”

---

### 3.3 全局“一键”悬浮球（Magic Overlay）

（替代 Shortcuts）

- **触发方式**：`Cmd + Space` 或双击 `Ctrl` 唤起全局搜索/操作栏。
- **场景化指令（Contextual Actions）**：
  - **帮我回这段话**：选中微信/钉钉文字 → 唤起 Tage → 选态度（强硬/委婉/拒绝）→ 生成回复。
  - **这是啥意思**：选中专业术语/英文 → 唤起 Tage → 一键解释人话。
  - **整理会议**：粘贴语音转文字 → 生成 Action Items。
  - **老板专属“吐槽生成器”**（病毒传播点）：如输入“员工迟到还顶嘴”，生成有威严但幽默的文案，并支持一键生成精美卡片分享到朋友圈。

---

### 3.4 极简设置（Settings Lite）

- **账户管理**：手机号一键登录（关联微信支付用于订阅高级会员）。
- **模型切换（隐藏式）**：默认最优模型（如 Claude 3.5 Sonnet, GPT-4o），用户无需选择。
  > _保留“极客模式”入口（点击版本号 5 次开启），供技术流老板自定义 API Key 和 Base URL。_
- **声音与皮肤**：保留机械键盘音效。增加“商务深色”与“禅意白”主题。

---

## 4. 技术栈调整（Tech Stack Refinement）

- **架构**：继续 Electron + React + TypeScript
- **数据优化**：
  - **Default Providers**：后端搭建 Proxy 服务（基于 Golang/Node.js），内置企业级 API Key 池；用户付费后通过 Proxy 转发，实现“免配置”。
  - **Prompt Management**：System Prompt 云端下发（JSON Config），可随时更新“金牌销售”话术，实现 SaaS 化运营。
  - **Local RAG**：使用 SQLite + 本地 Embedding（推荐量化 bge-m3 或类似轻量模型），无 GPU 也能流畅运行。

---

## 5. 数据结构更新（Data Schema Update）

```typescript
// 角色定义 (Personas)
interface Persona {
  id: string; // e.g., 'legal_expert'
  name: string; // "首席法务"
  avatar: string; // 本地路径
  description: string;
  systemPrompt: string; // 核心资产，云端同步
  style: {
    tone: "formal" | "casual" | "aggressive"; // 对应 Temperature
    responseLength: "short" | "detailed";
  };
  attachedKnowledgeTags: string[]; // 自动挂载知识库标签，如 ['contracts']
}

// 知识库文件 (Vault Items)
interface VaultItem {
  id: string;
  filename: string;
  fileType: string;
  category: "product" | "hr" | "finance" | "general";
  vectorStatus: "indexed" | "pending" | "failed";
  addedAt: number;
}

// 用户订阅 (User Subscription)
interface UserProfile {
  id: string;
  tier: "free" | "pro" | "enterprise"; // free 需填 Key，pro 免配置
  tokensRemaining: number;
}
```
